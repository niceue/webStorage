/*! Cross Browser HTML5 Local Storage Support 
 * (c) 2013 Jony Zhang <zj86@live.cn>, MIT Licensed
 * https://github.com/niceue/webStorage/
 */
(function(e){function t(){return l.XMLDocument.documentElement.attributes}function n(){o.length=t().length}if(!e.localStorage){var o,a=document,r=location.hostname;if(a.documentElement.addBehavior){var l=a.createElement("meta");l.addBehavior("#default#userdata"),a.getElementsByTagName("head")[0].appendChild(l),o={length:function(){l.load(r),n()}(),key:function(e){return l.load(r),e>=0&&this.length>e?t()[e].nodeName:null},setItem:function(e,t){l.load(r),l.setAttribute(e,t),l.save(r),n()},getItem:function(e){return l.load(r),l.getAttribute(e)},removeItem:function(e){l.load(r),l.removeAttribute(e),l.save(r),n()},clear:function(){l.load(r);for(var e,n=0;e=t()[n++];)l.removeAttribute(e.nodeName);l.save(r),this.length=0}}}else if(e.globalStorage){var i=e.globalStorage[r];o={length:function(){return i.length}(),key:function(e){return i.key(e)},setItem:function(e,t){i.setItem(e,t),this.length=i.length},getItem:function(e){return i.getItem(e)},removeItem:function(e){i.removeItem(e),this.length=i.length},clear:function(){for(var e in i)i.removeItem(e);this.length=0}}}e.localStorage=o}})(this);